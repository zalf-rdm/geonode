/* ---------------------------------------------
   0) Design Tokens (with fallbacks for IE11)
   --------------------------------------------- */
:root {
    /* Brand */
    --gn-primary-1: #2e7d32;
    /* dark green */
    --gn-primary-2: #7cb342;
    /* light green */
    --gn-bg-1: #f9fbfb;
    --gn-bg-2: #f6faf6;
    --gn-bg-3: #ffffff;
    --gn-border: #e6ecf0;
    --gn-txt-1: #233044;
    /* headings */
    --gn-txt-2: #3e505a;
    /* body */
    --gn-txt-3: #64727a;
    /* muted */

    /* Effects */
    --gn-shadow: 0 10px 25px rgba(0, 0, 0, .08);
    --gn-shadow-hover: 0 12px 30px rgba(0, 0, 0, .12);
    --gn-shadow-heavy: 0 18px 40px rgba(0, 0, 0, .16);
    --gn-blur: saturate(120%) blur(10px);
    --gn-radius-sm: 10px;
    --gn-radius: 14px;
    --gn-radius-lg: 18px;
    --gn-radius-xl: 24px;

    /* Motion */
    --gn-ease: cubic-bezier(.2, .8, .2, 1);
    --gn-fast: 140ms;
    --gn-base: 240ms;
    --gn-slow: 420ms;
}

/* IE11 fallbacks for variables: always put a concrete property BEFORE the var() line. */

/* ---------------------------------------------
   1) Base & Typography
   --------------------------------------------- */
html {
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
    overflow-y: scroll;
}

body {
    background: #f9fbfb;
    background: var(--gn-bg-1);
    color: #3e505a;
    color: var(--gn-txt-2);
    font-family: "Inter", "Noto Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.55;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
    color: #233044;
    color: var(--gn-txt-1);
    letter-spacing: .1px;
    font-weight: 700;
}

a {
    color: #2e7d32;
    color: var(--gn-primary-1);
    text-decoration: none;
    transition: color var(--gn-fast) var(--gn-ease), opacity var(--gn-fast) var(--gn-ease);
}

a:hover,
a:focus {
    color: #225f27;
    outline: none;
}

small,
.text-muted,
.muted,
.help-block {
    color: #64727a;
    color: var(--gn-txt-3);
}

/* Selection */
::selection {
    background: #cfe8cf;
    color: #233044;
}

/* ---------------------------------------------
   2) Global Surface / Panel (glassmorphism)
   --------------------------------------------- */
.panel,
.well,
.thumbnail,
.box,
.card,
.gn-surface {
    background: rgba(255, 255, 255, .75);
    background: linear-gradient(180deg, rgba(255, 255, 255, .82), rgba(255, 255, 255, .72));
    border: 1px solid #e6ecf0;
    border: 1px solid var(--gn-border);
    border-radius: 14px;
    border-radius: var(--gn-radius);
    box-shadow: 0 10px 25px rgba(0, 0, 0, .08);
    box-shadow: var(--gn-shadow);
    backdrop-filter: saturate(120%) blur(10px);
    backdrop-filter: var(--gn-blur);
    -webkit-backdrop-filter: saturate(120%) blur(10px);
}

.panel {
    border: none;
}

.panel-heading {
    background: transparent;
    border-bottom: 1px solid #e6ecf0;
    border-bottom: 1px solid var(--gn-border);
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
    padding: 14px 18px;
}

.panel-title {
    font-weight: 700;
    color: #233044;
    color: var(--gn-txt-1);
}

.panel-body {
    padding: 18px;
}

/* Hover lift for common list items and surfaces */
.panel:hover,
.thumbnail:hover,
.list-group-item:hover,
.gn-hover-lift:hover {
    transform: translateY(-2px) scale(1.01);
    -ms-transform: translateY(-2px) scale(1.01);
    box-shadow: var(--gn-shadow-hover);
}

/* ---------------------------------------------
   3) Buttons (rounded + gradient + ghost)
   --------------------------------------------- */
.btn {
    position: relative;
    border-radius: 14px;
    /* fallback */
    border-radius: var(--gn-radius);
    border: 1px solid transparent;
    font-weight: 600;
    letter-spacing: .2px;
    transition: transform var(--gn-fast) var(--gn-ease),
        box-shadow var(--gn-fast) var(--gn-ease),
        filter var(--gn-fast) var(--gn-ease),
        background-color var(--gn-fast) var(--gn-ease),
        color var(--gn-fast) var(--gn-ease);
    box-shadow: var(--gn-shadow);
    will-change: transform;
}

.btn:focus,
.btn:active:focus,
.btn.active:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(46, 125, 50, .25);
}

.btn:hover {
    transform: translateY(-1px);
    filter: brightness(1.02);
}

/* Primary gradient */
.btn-primary {
    background-color: #2e7d32;
    background-image: linear-gradient(135deg, #2e7d32, #7cb342);
    border-color: #2e7d32;
    color: #fff;
}

.btn-primary:hover,
.btn-primary:focus {
    background-image: linear-gradient(135deg, #2b7130, #71a93e);
    box-shadow: var(--gn-shadow-hover);
}

/* Ghost button */
.btn-default,
.btn-ghost,
.btn-inverse {
    background: transparent;
    border: 1px solid #e6ecf0;
    border: 1px solid var(--gn-border);
    color: #233044;
    color: var(--gn-txt-1);
}

.btn-default:hover,
.btn-ghost:hover,
.btn-inverse:hover {
    background: rgba(255, 255, 255, .6);
    box-shadow: var(--gn-shadow-hover);
}

/* Success / Info / Warning / Danger refreshed */
.btn-success {
    background-image: linear-gradient(135deg, #2e7d32, #7cb342);
    border-color: #2e7d32;
    color: #fff;
}

.btn-info {
    background-image: linear-gradient(135deg, #1d7bdc, #6ac0ff);
    border-color: #1d7bdc;
    color: #fff;
}

.btn-warning {
    background-image: linear-gradient(135deg, #e09a00, #ffd166);
    border-color: #e09a00;
    color: #233044;
}

.btn-danger {
    background-image: linear-gradient(135deg, #c62828, #ff6b6b);
    border-color: #c62828;
    color: #fff;
}

/* Pill & size utilities */
.btn-pill {
    border-radius: 999px;
}

.btn-lg {
    padding: 12px 22px;
    font-size: 16px;
}

.btn-sm {
    padding: 6px 14px;
    font-size: 12px;
}

.btn-xs {
    padding: 4px 10px;
    font-size: 11px;
}

/* Icon-left spacing helper */
.btn .icon-left {
    margin-right: .5em;
    display: inline-block;
}

/* ---------------------------------------------
   4) Forms (floating labels, rounded inputs)
   --------------------------------------------- */

/* Inputs */
.form-control {
    border-radius: 12px;
    border: 1px solid #e6ecf0;
    border: 1px solid var(--gn-border);
    background-color: #fff;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, .04);
    padding: 10px 14px;
    transition: border-color var(--gn-fast) var(--gn-ease), box-shadow var(--gn-fast) var(--gn-ease);
}

.form-control:focus {
    border-color: #7cb342;
    box-shadow: 0 0 0 3px rgba(124, 179, 66, .25);
    outline: none;
}

/* Floating label pattern without HTML changes (progressive) */
.form-group {
    position: relative;
}

.form-group>label {
    font-weight: 600;
    color: #64727a;
    color: var(--gn-txt-3);
    transform: translateY(0);
    transition: transform var(--gn-base) var(--gn-ease), opacity var(--gn-base) var(--gn-ease), color var(--gn-base) var(--gn-ease);
}

/* When the input has focus or not empty */
.form-group input.form-control:focus+label,
.form-group textarea.form-control:focus+label,
.form-group select.form-control:focus+label {
    color: #2e7d32;
    color: var(--gn-primary-1);
}

/* If label precedes input in DOM (Bootstrap default), use attribute selector hack */
.form-group.has-float>label,
.form-group.floating>label {
    position: absolute;
    left: 14px;
    top: 10px;
    pointer-events: none;
    background: transparent;
    padding: 0 4px;
    opacity: .7;
}

.form-group.floating .form-control:focus+.floating-label,
.form-group.has-float .form-control:focus+.floating-label {
    opacity: 1;
}

/* Generic "float when filled" using :not(:placeholder-shown) (modern only) */
.form-group.floating .form-control:not(:placeholder-shown)+label,
.form-group.has-float .form-control:not(:placeholder-shown)+label {
    transform: translateY(-20px) scale(.92);
    opacity: .9;
    background: #fff;
    padding: 0 6px;
}

/* Validation */
.has-success .form-control {
    border-color: #7cb342;
}

.has-warning .form-control {
    border-color: #e09a00;
}

.has-error .form-control {
    border-color: #c62828;
}

.help-block {
    margin-top: 6px;
    font-size: 12px;
}

/* Checkboxes / radios */
.checkbox input[type=checkbox],
.radio input[type=radio] {
    transform: scale(1.08);
    -ms-transform: scale(1.08);
}

/* Input groups */
.input-group .form-control {
    border-right: none;
}

.input-group .input-group-addon {
    background: #fff;
    border: 1px solid var(--gn-border);
    border-left: none;
    border-radius: 0 12px 12px 0;
}

/* ---------------------------------------------
   5) Tables (rounded, zebra, hover)
   --------------------------------------------- */
.table {
    background: #fff;
    border-radius: 12px;
    overflow: hidden;
    /* clip radius */
    border: 1px solid var(--gn-border);
}

.table>thead>tr>th {
    background: linear-gradient(180deg, #f9fbfb, #f6faf6);
    color: var(--gn-txt-1);
    border-bottom: 1px solid var(--gn-border);
    font-weight: 700;
}

.table-striped>tbody>tr:nth-child(odd) {
    background-color: rgba(0, 0, 0, .015);
}

.table-hover>tbody>tr:hover {
    background-color: rgba(124, 179, 66, .08);
    transition: background-color var(--gn-fast) var(--gn-ease);
}

.table>tbody>tr>td,
.table>thead>tr>th {
    vertical-align: middle;
}

/* Responsive wrappers */
.table-responsive {
    border: none;
    box-shadow: var(--gn-shadow);
    border-radius: 12px;
}

/* ---------------------------------------------
   6) Modals (centered + blur backdrop)
   --------------------------------------------- */
.modal {
    background: rgba(35, 48, 68, .22);
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
}

.modal.fade .modal-dialog {
    transform: translateY(10px);
    -ms-transform: translateY(10px);
    transition: transform var(--gn-base) var(--gn-ease), opacity var(--gn-base) var(--gn-ease);
    opacity: 0;
}

.modal.in .modal-dialog {
    transform: translateY(0);
    -ms-transform: translateY(0);
    opacity: 1;
}

.modal-content {
    border-radius: 16px;
    box-shadow: var(--gn-shadow-heavy);
    border: 1px solid var(--gn-border);
    overflow: hidden;
}

/* ---------------------------------------------
   7) Navbar (glassy, sticky)
   --------------------------------------------- */
.navbar {
    border: none;
    border-bottom: 1px solid rgba(230, 236, 240, .8);
    background: linear-gradient(180deg, rgba(255, 255, 255, .9), rgba(255, 255, 255, .72));
    backdrop-filter: var(--gn-blur);
    -webkit-backdrop-filter: var(--gn-blur);
    box-shadow: 0 2px 10px rgba(0, 0, 0, .04);
}

.navbar .navbar-brand,
.navbar .nav-link {
    font-weight: 600;
    ;
}

.navbar .nav-link {
    position: relative;
}

.navbar .nav-link::after {
    content: "";
    position: absolute;
    left: 12px;
    right: 12px;
    bottom: 6px;
    height: 2px;
    background: linear-gradient(90deg, var(--gn-primary-1), var(--gn-primary-2));
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--gn-fast) var(--gn-ease);
}

.navbar .nav-link:hover::after,
.navbar .nav-item.active .nav-link::after,
.navbar .nav-link.active::after {
    transform: scaleX(1);
}

.navbar .dropdown-menu {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    background-color: var(--gn-txt-1);
    border-top: 3px solid var(--gn-primary-1);
    border: 0;
}

/* ---------------------------------------------
   8) Breadcrumbs (chevrons + micro fade)
   --------------------------------------------- */
.breadcrumb {
    background: transparent;
    border: none;
    padding: 8px 0;
    margin-bottom: 14px;
}

.breadcrumb>li+li:before {
    content: "›";
    color: var(--gn-txt-3);
}

.breadcrumb>li>a:hover {
    opacity: .85;
}

/* ---------------------------------------------
   9) Pagination (rounded pills)
   --------------------------------------------- */
.pagination>li>a,
.pagination>li>span {
    border-radius: 999px !important;
    border: 1px solid var(--gn-border);
    color: var(--gn-txt-2);
    box-shadow: var(--gn-shadow);
    margin: 0 4px;
}

.pagination>.active>a,
.pagination>.active>span,
.pagination>.active>a:hover,
.pagination>.active>span:hover {
    background: linear-gradient(135deg, var(--gn-primary-1), var(--gn-primary-2));
    border-color: var(--gn-primary-1);
    color: #fff;
}

/* ---------------------------------------------
   10) Alerts (soft, rounded, icon-left)
   --------------------------------------------- */
.alert {
    border-radius: 12px;
    border: 1px solid var(--gn-border);
    box-shadow: var(--gn-shadow);
    padding-left: 44px;
    /* space for icon */
    position: relative;
}

.alert:before {
    content: "";
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    background-repeat: no-repeat;
    background-size: contain;
    opacity: .85;
}

.alert-success {
    background: #eff8ef;
    color: #285a2b;
}

.alert-info {
    background: #eef5fe;
    color: #174573;
}

.alert-warning {
    background: #fff7e6;
    color: #805d00;
}

.alert-danger {
    background: #fff1f0;
    color: #7a1f1f;
}

.alert-success:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%232e7d32' viewBox='0 0 24 24'%3E%3Cpath d='M9 16.2l-3.5-3.6L4 14l5 5 11-11-1.5-1.5z'/%3E%3C/svg%3E");
}

.alert-info:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%231d7bdc' viewBox='0 0 24 24'%3E%3Cpath d='M11 17h2v-6h-2v6zm0-8h2V7h-2v2z'/%3E%3C/svg%3E");
}

.alert-warning:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23e09a00' viewBox='0 0 24 24'%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E");
}

.alert-danger:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23c62828' viewBox='0 0 24 24'%3E%3Cpath d='M19 6.4L17.6 5 12 10.6 6.4 5 5 6.4 10.6 12 5 17.6 6.4 19 12 13.4 17.6 19 19 17.6 13.4 12z'/%3E%3C/svg%3E");
}

/* ---------------------------------------------
   11) Tabs & Pills
   --------------------------------------------- */
.nav-tabs,
.nav-pills {
    border-bottom: 1px solid var(--gn-border);
}

.nav-tabs>li>a,
.nav-pills>li>a {
    border-radius: 999px;
    margin-right: 6px;
    padding: 8px 14px;
    transition: background-color var(--gn-fast) var(--gn-ease), color var(--gn-fast) var(--gn-ease);
}

.nav-tabs>li.active>a,
.nav-pills>li.active>a {
    background: linear-gradient(135deg, var(--gn-primary-1), var(--gn-primary-2));
    color: #fff !important;
    border: none;
}

/* ---------------------------------------------
   12) List Groups
   --------------------------------------------- */
.list-group-item {
    border: 1px solid var(--gn-border);
    background: rgba(255, 255, 255, .9);
    transition: transform var(--gn-fast) var(--gn-ease), box-shadow var(--gn-fast) var(--gn-ease);
}

.list-group-item:first-child {
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
}

.list-group-item:last-child {
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
}

/* ---------------------------------------------
   13) Dropdowns / Menus
   --------------------------------------------- */
.dropdown-menu {
    border-radius: 12px;
    border: 1px solid var(--gn-border);
    box-shadow: var(--gn-shadow);
    padding: 6px;
}

.dropdown-item {
    border-radius: 8px;
    padding: 8px 12px;
    transition: background-color var(--gn-fast) var(--gn-ease);
}

.dropdown-item:hover, .dropdown-item:focus {
    background: rgba(124, 179, 66, .12);
}

/* ---------------------------------------------
   14) Inputs: Select2 / Chosen (common GeoNode plugins)
   --------------------------------------------- */
.select2-container .select2-choice,
.select2-container .select2-selection--single,
.chosen-container-single .chosen-single {
    border-radius: 12px !important;
    border: 1px solid var(--gn-border) !important;
    height: 38px !important;
    line-height: 36px !important;
    box-shadow: none !important;
}


/* Color utilities */
.bg-primary {
    background: #2e7d32;
    background: linear-gradient(135deg, #2e7d32, #7cb342) !important;
    color: #fff !important;
}

.bg-light {
    background: #f9fbfb !important;
}

.bg-white {
    background: #fff !important;
}

.text-primary {
    color: #2e7d32 !important;
}

.text-muted-2 {
    color: #64727a !important;
}

.border {
    border: 1px solid var(--gn-border) !important;
}

.border-0 {
    border: 0 !important;
}

/* Motion helpers */
.transition-base {
    transition: all var(--gn-base) var(--gn-ease) !important;
}

.lift:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: var(--gn-shadow-hover) !important;
}

/* ---------------------------------------------
   16) Motion System (GSAP-ready + CSS fallbacks)
   --------------------------------------------- */
/* Fade-up on load/scroll (controlled by adding .is-inview or .animate-in) */
.fade-up {
    opacity: 0;
    transform: translateY(16px);
    -ms-transform: translateY(16px);
    transition: opacity var(--gn-base) var(--gn-ease), transform var(--gn-base) var(--gn-ease);
}

.fade-up.is-inview,
.fade-up.animate-in {
    opacity: 1;
    transform: translateY(0);
    -ms-transform: translateY(0);
}

/* Stagger children */
.stagger-children>* {
    opacity: 0;
    transform: translateY(12px);
    transition: opacity var(--gn-base) var(--gn-ease), transform var(--gn-base) var(--gn-ease);
}

.stagger-children.is-inview>*,
.stagger-children.animate-in>* {
    opacity: 1;
    transform: translateY(0);
}

.stagger-children.is-inview>* {
    transition-delay: calc(var(--i, 0) * 70ms);
}

/* set --i in JS if needed */

/* Parallax helpers (background) */
.parallax-soft {
    background-attachment: fixed;
    background-size: cover;
    background-position: center;
}

/* Hover micro-interactions */
.hover-bright:hover {
    filter: brightness(1.05);
}

.hover-raise:hover {
    transform: translateY(-2px);
}

.hover-scale:hover {
    transform: scale(1.02);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    * {
        transition: none !important;
        animation: none !important;
    }

    .parallax-soft {
        background-attachment: scroll;
    }
}

/* Manual opt-out */
.reduce-motion * {
    transition: none !important;
    animation: none !important;
}

/* ---------------------------------------------
   17) Skeleton Loading
   --------------------------------------------- */
.skeleton {
    display: inline-block;
    width: 100%;
    height: 1em;
    background: linear-gradient(90deg, #f0f4f4 25%, #e9eff2 37%, #f0f4f4 63%);
    background-size: 400% 100%;
    border-radius: 8px;
    animation: gn-shimmer 1.4s infinite;
}

.skeleton.skeleton-lg {
    height: 180px;
    border-radius: 16px;
}

.skeleton-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
}

@keyframes gn-shimmer {
    0% {
        background-position: 100% 0;
    }

    100% {
        background-position: -100% 0;
    }
}

/* ---------------------------------------------
   18) GeoNode-specific polish (datasets/maps lists)
   --------------------------------------------- */
/* Resource cards (generic) */
.resource,
.gn-card,
.dataset-card,
.map-card,
.document-card {
    background: rgba(255, 255, 255, .82);
    border: 1px solid var(--gn-border);
    border-radius: 16px;
    box-shadow: var(--gn-shadow);
    transition: transform var(--gn-fast) var(--gn-ease), box-shadow var(--gn-fast) var(--gn-ease);
}

.resource:hover,
.gn-card:hover,
.dataset-card:hover,
.map-card:hover,
.document-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--gn-shadow-hover);
}

.resource .title,
.gn-card .title {
    font-weight: 700;
    color: var(--gn-txt-1);
}

.resource .meta,
.gn-card .meta {
    color: var(--gn-txt-3);
    font-size: 12px;
}

/* Badges / labels */
.label,
.badge {
    border-radius: 999px;
    padding: .35em .6em;
    font-weight: 600;
}

.label-primary {
    background: #2e7d32;
}

.label-default {
    background: #e6ecf0;
    color: #233044;
}

/* Filters / search bar */
.input-append .btn,
.input-group-btn .btn {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

/* ---------------------------------------------
   19) Dark Mode (opt-in via .dark or [data-theme="dark"])
   --------------------------------------------- */
.dark,
[data-theme="dark"] {
    --gn-bg-1: #0f1419;
    --gn-bg-2: #121a20;
    --gn-bg-3: #161f27;
    --gn-border: #2a3440;
    --gn-txt-1: #e9eef2;
    --gn-txt-2: #c7d1d8;
    --gn-txt-3: #94a3ad;
    background: var(--gn-bg-1);
    color: var(--gn-txt-2);
}

.dark .panel,
.dark .well,
.dark .thumbnail,
.dark .gn-surface {
    background: linear-gradient(180deg, rgba(22, 31, 39, .85), rgba(18, 26, 32, .8));
    border-color: var(--gn-border);
    box-shadow: 0 10px 25px rgba(0, 0, 0, .5);
}

.dark .navbar {
    background: linear-gradient(180deg, rgba(22, 31, 39, .95), rgba(18, 26, 32, .85));
    border-bottom-color: rgba(42, 52, 64, .9);
}

.dark .table {
    background: var(--gn-bg-3);
    border-color: var(--gn-border);
}

.dark .table>thead>tr>th {
    background: #1a2430;
    color: var(--gn-txt-1);
    border-color: var(--gn-border);
}

.dark .btn-default,
.dark .btn-ghost {
    border-color: var(--gn-border);
    color: var(--gn-txt-1);
}

.dark .dropdown-menu {
    background: var(--gn-bg-3);
    border-color: var(--gn-border);
}

.dark .alert {
    box-shadow: none;
}

.dark .label-default {
    background: var(--gn-border);
    color: var(--gn-txt-1);
}

/* ---------------------------------------------
   20) Print Styles
   --------------------------------------------- */
@media print {
    * {
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    .navbar,
    .footer,
    .btn,
    .pagination,
    .dropdown-menu,
    .alert {
        display: none !important;
    }

    .panel,
    .table {
        border-color: #ccc !important;
    }

    body {
        background: #fff !important;
        color: #000 !important;
    }
}

/* ---------------------------------------------
   21) Accessibility & Focus
   --------------------------------------------- */
:focus {
    outline-color: rgba(46, 125, 50, .8);
    outline-style: auto;
}

/* High contrast utility */
.high-contrast a,
.high-contrast button,
.high-contrast .btn {
    filter: contrast(1.2) saturate(1.1);
}

/* ---------------------------------------------
   22) Legacy Fixes / Bootstrappy odds & ends
   --------------------------------------------- */
/* Panels variations */
.panel-default>.panel-heading {
    color: var(--gn-txt-1);
    background: transparent;
    border-color: var(--gn-border);
}

.panel-footer {
    background: transparent;
    border-top: 1px solid var(--gn-border);
    border-bottom-left-radius: inherit;
    border-bottom-right-radius: inherit;
}

/* Thumbnails */
.thumbnail {
    border: 1px solid var(--gn-border);
    padding: 0;
    overflow: hidden;
}

.thumbnail .caption {
    padding: 14px;
}

/* Wells */
.well {
    border: 1px solid var(--gn-border);
}

/* Popovers & tooltips */
.popover {
    border-radius: 12px;
    box-shadow: var(--gn-shadow);
    border: 1px solid var(--gn-border);
}

.tooltip .tooltip-inner {
    border-radius: 8px;
}

/* Progress bars */
.progress {
    background: #eef3f3;
    border-radius: 999px;
    box-shadow: inset 0 2px 6px rgba(0, 0, 0, .04);
}

.progress-bar {
    background-image: linear-gradient(90deg, var(--gn-primary-1), var(--gn-primary-2));
    border-radius: 999px;
}

/* Labels */
.label {
    box-shadow: 0 1px 2px rgba(0, 0, 0, .06);
}

/* ---------------------------------------------
   23) Gradient Helpers
   --------------------------------------------- */
.gradient-hero {
    background: radial-gradient(1200px 500px at 20% -10%, rgba(124, 179, 66, .20), transparent 60%),
        radial-gradient(1000px 600px at 110% 10%, rgba(46, 125, 50, .18), transparent 60%),
        linear-gradient(180deg, #f9fbfb, #f6faf6);
}

.gradient-card {
    background: linear-gradient(180deg, rgba(255, 255, 255, .9), rgba(255, 255, 255, .7));
    backdrop-filter: var(--gn-blur);
}

/* ---------------------------------------------
   24) Under-the-hood: ensure no layout breaks
   --------------------------------------------- */
.container,
.container-fluid {
    /* keep Bootstrap spacing but slightly airier */
    padding-left: 15px;
    padding-right: 15px;
}

.row {
    margin-left: -15px;
    margin-right: -15px;
}

/* preserve Bootstrap grid */
.col-xs-*,
.col-sm-*,
.col-md-*,
.col-lg-* {
    /* placeholder: do not override widths */
}

/* ---------------------------------------------
   25) Micro details to match homepage feel
   --------------------------------------------- */
hr {
    border-color: var(--gn-border);
    opacity: .7;
}

code,
pre {
    border-radius: 8px;
}

.badge {
    background: #2e7d32;
}

label {
    font-weight: 600;
}

/* End of file */

/* General background */
body.msgapi {
    background: linear-gradient(180deg, #f9fbfb 0%, #f6faf6 100%);
}

/* HERO */
body.msgapi .hero {
    position: relative;
    /* context for internal z-index */
    min-height: 92vh;
    display: flex;
    align-items: center;
    overflow: hidden;
    background:
        radial-gradient(1000px 500px at -10% -20%, rgba(67, 160, 71, .18) 0%, rgba(67, 160, 71, 0) 60%),
        radial-gradient(900px 480px at 120% 10%, rgba(135, 197, 198, .16) 0%, rgba(135, 197, 198, 0) 60%),
        linear-gradient(180deg, #ffffff 0%, #f4fbf6 100%);
    border-bottom: 1px solid var(--zalf-line, #e6ecf0);
    padding: 60px 0 40px;
}

/* Decorative layer (SVG + particles) behind content */
body.msgapi .hero-decor {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    /* behind */
}

/* Hero content in front of decor */
body.msgapi .hero>.container {
    position: relative;
    z-index: 2;
    /* in front */
}

body.msgapi .hero-eyebrow {
    display: inline-block;
    background: rgba(46, 125, 50, .08);
    color: var(--zalf-primary, #0b6b7a);
    padding: 6px 12px;
    border-radius: 999px;
    font-weight: 600;
    letter-spacing: .3px;
    font-size: 12px;
    margin-bottom: 16px;
}

body.msgapi .hero .zalf-hero-title {
    font-size: 42px;
    line-height: 1.15;
    font-weight: 800;
    color: #233044;
}

@media (min-width: 992px) {
    body.msgapi .hero .zalf-hero-title {
        font-size: 54px;
    }
}

body.msgapi .hero .zalf-hero-sub {
    font-size: 17px;
    color: #3e505a;
    max-width: 760px;
}

body.msgapi .hero-cta .btn {
    border-radius: 999px;
    padding: 12px 22px;
    font-weight: 700;
    letter-spacing: .2px;
    box-shadow: var(--zalf-shadow, 0 10px 25px rgba(0, 0, 0, .08));
}

body.msgapi .btn-primary-za {
    background: linear-gradient(90deg, #2e7d32, #7cb342);
    border: none;
    color: #fff;
}

body.msgapi .btn-primary-za:hover {
    filter: brightness(1.05);
}

body.msgapi .btn-ghost {
    background: #fff;
    border: 1px solid #dfe7ea;
    color: var(--zalf-text, #172026);
}

body.msgapi .hero-svg {
    position: absolute;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
    width: 100vw;
    /* ocupa toda a largura da viewport */
    max-width: none;
    height: auto;
    opacity: 0.9;
    z-index: 0;
    /* Impede qualquer vazamento horizontal */
    min-width: 100%;
    pointer-events: none;
    transform: translateX(-50%);
    /* opcional: não interfere em cliques */
}

/* Particles (visual style only; movement handled by GSAP) */
body.msgapi .particle {
    position: absolute;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgba(67, 160, 71, .25);
    box-shadow: 0 0 0 2px rgba(67, 160, 71, .08);
    filter: blur(.2px);
}

body.msgapi .particle.p2 {
    background: rgba(135, 197, 198, .25);
}

/* Stats */
body.msgapi .stats {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 22px;
}

body.msgapi .stat {
    flex: 1 1 120px;
    background: #fff;
    border: 1px solid var(--zalf-line, #e6ecf0);
    border-radius: 14px;
    padding: 14px 16px;
    min-width: 140px;
    box-shadow: var(--zalf-shadow);
    text-align: left;
}

body.msgapi .stat .num {
    font-size: 26px;
    font-weight: 800;
    color: #2e7d32;
    line-height: 1;
}

body.msgapi .stat .lbl {
    font-size: 12px;
    color: var(--zalf-muted, #64727a);
    text-transform: uppercase;
    letter-spacing: .4px;
    margin-top: 6px;
}

/* Cards / categories */
body.msgapi .cat-card {
    position: relative;
    background: #fff;
    border: 1px solid var(--zalf-line, #e6ecf0);
    border-radius: 18px;
    padding: 20px;
    box-shadow: var(--zalf-shadow);
    transition: transform .35s cubic-bezier(.22, .61, .36, 1), box-shadow .35s cubic-bezier(.22, .61, .36, 1);
    overflow: hidden;
}

body.msgapi .cat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 34px rgba(0, 0, 0, .12);
}

body.msgapi .cat-icon {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    background: rgba(46, 125, 50, .08);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
}

body.msgapi .cat-title {
    font-weight: 700;
    margin: 0 0 6px;
}

body.msgapi .cat-desc {
    color: var(--zalf-muted, #64727a);
    font-size: 13px;
}

/* Spotlight datasets */
body.msgapi .ds-card {
    background: #fff;
    border: 1px solid var(--zalf-line, #e6ecf0);
    border-radius: 12px;
    box-shadow: var(--zalf-shadow);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 100%;
}

body.msgapi .ds-thumb {
    position: relative;
    padding-top: 56%;
    background: linear-gradient(135deg, #e0f2e9, #e6f5ff);
}

body.msgapi .ds-body {
    padding: 16px;
}

body.msgapi .ds-title {
    font-weight: 700;
    margin: 0 0 8px;
}

body.msgapi .ds-meta {
    font-size: 12px;
    color: var(--zalf-muted, #64727a);
    margin-bottom: 10px;
}

body.msgapi .ds-actions {
    margin-top: auto;
    padding: 12px 16px;
    border-top: 1px solid var(--zalf-line, #e6ecf0);
    background: #fafdfb;
}

/* Logos (marquee animated in JS) */
body.msgapi .logos-wrap {
    overflow: hidden;
    border-top: 1px solid var(--zalf-line, #e6ecf0);
    border-bottom: 1px solid var(--zalf-line, #e6ecf0);
    background: #fff;
}

body.msgapi .logos {
    display: flex;
    align-items: center;
    gap: 48px;
    padding: 18px 0;
    will-change: transform;
}

body.msgapi .logo {
    width: 120px;
    height: 42px;
    border: 1px solid #eaeef2;
    border-radius: 8px;
    background: #fafafa;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #7f8b92;
    font-weight: 700;
    letter-spacing: .4px;
}



/* News & newsletter */
body.msgapi .news-item {
    background: #fff;
    border: 1px solid var(--zalf-line, #e6ecf0);
    border-radius: 12px;
    padding: 18px;
    height: 100%;
    box-shadow: var(--zalf-shadow);
}

body.msgapi .news-title {
    font-weight: 700;
    margin: 0 0 6px;
}

body.msgapi .news-date {
    font-size: 12px;
    color: var(--zalf-muted, #64727a);
    margin-bottom: 8px;
}

body.msgapi .newsletter {
    background: linear-gradient(90deg, rgba(46, 125, 50, .06), rgba(124, 179, 66, .06));
    border: 1px solid var(--zalf-line, #e6ecf0);
    border-radius: 18px;
    padding: 24px;
    box-shadow: var(--zalf-shadow);
}

body.msgapi .form-floating {
    position: relative;
    margin-top: 10px;
}

body.msgapi .form-floating input {
    width: 100%;
    padding: 14px;
    border-radius: 10px;
    border: 1px solid #dbe6e8;
    background: #fff;
}

body.msgapi .form-floating label {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: #fff;
    padding: 0 6px;
    color: #8aa1ab;
    pointer-events: none;
    transition: all .2s cubic-bezier(.22, .61, .36, 1);
}

body.msgapi .form-floating input:focus+label,
body.msgapi .form-floating input:not(:placeholder-shown)+label {
    top: -8px;
    font-size: 12px;
    color: #2e7d32;
}

/* Button to skip animation */
body.msgapi .skip-anim {
    display: inline-block;
    margin-left: 8px;
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #dfe7ea;
    background: #fff;
    cursor: pointer;
}

body.msgapi .fade-up {
    will-change: transform, opacity;
    backface-visibility: hidden;
    /* no declarative transitions so GSAP keeps control */
    transition: none !important;
}

/* Accessibility: when .no-anim is on <html>, everything stays visible */
html.no-anim body.msgapi .fade-up {
    opacity: 1 !important;
    transform: none !important;
}

/* Utilities */
body.msgapi .btn-rounded {
    border-radius: 999px;
}

/* Responsive */
@media (max-width: 767px) {
    body.msgapi .hero {
        padding: 48px 0 36px;
    }

    body.msgapi .hero .zalf-hero-title {
        font-size: 34px;
    }
}